/*
페이지 497
*/
궁금
Annotation 인터페이스는 상속도 안되고 추상메서드를 구현하지도 않는데
어떻게 어노테이션에서 사용이 가능할까?

claude 3.7 sonnet 답변
좋은 질문입니다! Java에서 어노테이션이 작동하는 방식은 다소 특별합니다.

## 어노테이션 동작 원리

Java에서 어노테이션은 `@interface` 키워드를 사용해 선언됩니다. 이는 일반적인 인터페이스와 문법적으로 비슷해 보이지만, 내부적으로 완전히 다른 메커니즘으로 동작합니다.

```java
public @interface MyAnnotation {
    String value() default "";
}
```

이것이 가능한 이유는:

1. **컴파일러 매직**: 어노테이션이 선언될 때 컴파일러는 자동으로 `java.lang.annotation.Annotation` 인터페이스를 상속하도록 내부 클래스를 생성합니다. 이는 명시적으로 상속하지 않아도 자동으로 이루어집니다.

2. **프록시 구현**: 어노테이션이 사용될 때, JVM은 런타임에 해당 어노테이션 타입을 구현하는 프록시 객체를 동적으로 생성합니다. 이 프록시 객체는 어노테이션에 정의된 모든 추상 메서드를 자동으로 구현합니다.

3. **리플렉션 API**: 어노테이션의 값을 얻을 때는 리플렉션 API를 사용합니다. 예를 들어 `getAnnotation()` 메서드는 내부적으로 동적 프록시를 통해 어노테이션 인스턴스를 반환합니다.

간단히 말해, 어노테이션은 특별한 형태의 인터페이스이며, Java 컴파일러와 런타임 환경이 자동으로 필요한 구현을 제공합니다. 개발자는 어노테이션을 정의하기만 하면 나머지 동작은 Java 시스템이 처리합니다.

다음은 내부적으로 일어나는 간략한 과정입니다:
1. 어노테이션 정의 (`@interface MyAnnotation { ... }`)
2. 컴파일러가 어노테이션 클래스를 처리하여 내부적으로 `Annotation` 인터페이스와 연결
3. 런타임에 어노테이션이 사용될 때 JVM이 프록시 객체 생성
4. 리플렉션을 통해 어노테이션 정보 접근

이러한 방식은 Java 언어 설계의 독특한 특징 중 하나입니다.